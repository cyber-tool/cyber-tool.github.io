(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[929],{8458:function(e,t,n){Promise.resolve().then(n.bind(n,8611))},8611:function(e,t,n){"use strict";n.r(t);var r=n(7437),o=n(2265),a=n(304),i=n(8087),l=n(1403),c=n(5092),s=n(436),d=n(4589),h=n(9509),u=n(6285),m=n(9079);t.default=function(){let[e,t]=(0,o.useState)(""),[n,f]=(0,o.useState)(!1),b=async t=>{if(t.preventDefault(),f(!0),!e){alert("Please paste a magnet link first."),f(!1);return}try{let t=await fetch("https://"+m.env.NEXT_PUBLIC_API_DOMAIN+"/m2t",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"magnet_link=".concat(encodeURIComponent(e))});if(t.ok){let n=await t.blob(),r=window.URL.createObjectURL(n),o=e.match(/&dn=([^&]+)/),a=e.match(/btih:([^&]+)/),i="downloaded_torrent";o&&o[1]?i=decodeURIComponent(o[1]):a&&a[1]&&(i=a[1]);let l=document.createElement("a");l.href=r,l.download="".concat(i,".torrent"),document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(r)}else{let e=await t.json();alert(e.error||"An error occurred while converting the magnet link.")}}catch(e){console.error("Error submitting form:",e),alert("An error occurred while submitting the form.")}finally{f(!1)}};return(0,r.jsxs)(a.Z,{children:[(0,r.jsx)("hr",{}),(0,r.jsx)(i.Z,{align:"center",sx:{color:"primary.main"},variant:"h3",children:"Magnet To Torrent"}),(0,r.jsx)("hr",{}),(0,r.jsx)(l.Z,{maxWidth:"sm",sx:{mt:4},children:(0,r.jsx)(c.Z,{children:(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(i.Z,{variant:"h5",gutterBottom:!0,children:"Paste Magnet Link"}),n&&(0,r.jsx)(d.Z,{}),(0,r.jsxs)("form",{onSubmit:b,noValidate:!0,autoComplete:"off",children:[(0,r.jsx)(h.Z,{label:"Magnet Link",variant:"outlined",fullWidth:!0,value:e,multiline:!0,rows:4,onChange:e=>{t(e.target.value)},sx:{mt:2,mb:2},color:"secondary"}),(0,r.jsx)(u.Z,{type:"submit",variant:"contained",color:"secondary",disabled:n,sx:{display:"block"},children:"Convert and Download"})]})]})})})]})}}},function(e){e.O(0,[120,418,956,509,971,69,744],function(){return e(e.s=8458)}),_N_E=e.O()}]);